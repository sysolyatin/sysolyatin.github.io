---
layout: post
title:  "Основы управления сценическим освещением"
---
Бывают ситуации, когда у ко мне обращаются за консультацией по какому-то сложному вопросу, как что-то сделать в пульте, а в ходе разговора я понимаю, что человек не совсем понимает, как это работает всё физически в нашем мире. А иногда просто приходится объяснять управление светом прям с самых основ и азов.
Чтобы не делать это каждый раз заново, я решил написать эту заметку и потом просто давать на неё ссылку.

### Протокол управления светом DMX-512

Название протокола управления светом происходит от сокращения английских слов Digital Multiplex. Это стандарт, описывающий методы цифровой передачи данных между контроллером управления и световыми приборами. Он создан на основе стандартного промышленного интерфейса EIA/TIA-485 (известного как RS-485), который используется для компьютерного управления промышленными контроллерами, роботами и автоматизированными станками.

Для коммутации DMX сигнала используется кабель с двумя проводами в общем экране с XLR разъёмом на конце. Для светового оборудования применяются, как 5-пиновые, так и 3-пиновые XLR разъёмы. Применение разъёмов с пятью контактами избыточно, но позволяет однозначно распознать DMX кабель на сцене и не даёт возможность подключить его к звукоусиливающему оборудованию (стандартная чувствительность которой около 1 вольта, DMX-сигнал может сжечь входные каскады усилителя/звукового пульта). Для перехода с одного типа разъема на другой, используются переходники, представленные на изображении ниже:

![](/static/notes/basic-dmx/001.png)

Все приборы, подключённые через DMX, соединяются последовательно друг другу сигнальным кабелем. Выглядит это примерно так:

![](/static/notes/basic-dmx/002.png)

Для решения задачи соединения между собой приборов, которых невозможно физически подключить на одну линию (например, они висят на разных фермах в разных частях сцены) используется специальный прибор — DMX сплиттер. В итоге схема может выглядеть примерно так:

![](/static/notes/basic-dmx/003.png)

Давайте теперь разберёмся, что же передаётся по этим сигнальным проводам от контроллера управления до светового прибора. На самом деле всё очень просто. Представьте, что у нас есть 512 ячеек, в которые мы можем записать какое либо значение. Эти ячейки и есть наш протокол управления, а значение, которое мы можем записать в каждую ячейку может быть числом от 0 до 255. Каждая ячейка, это определённая функция светового прибора, например, яркость, положение по панораме, интенсивность красного, зелёного или синего цвета, высота струи управляемого фонтана — что угодно, любой параметр, который можно изменить. Задача светового контроллера собрать эту табличку, основываясь на том, что мы нажали, управляя светом, и отправить её в приборы по выше упомянутому протоколу. И так происходит примерно каждые 23 мс.
Каждый прибор в зависимости от своего функционала занимает определённое количество каналов в передаваемой таблице.

Для наглядного примера представим себе светофор, управляемый по DMX. Нам нужно поставить друг над другом три прибора, которые могут светить разным цветом. У нас это будет четырёхканальный светодиодный прибор, у которого будет управляться яркость и интенсивность каждого цвета из RGB палитры.

Давайте разберём ситуации, что будет отправляться по DMX в наши световые приборы в ходе работы светофора. Условные обозначение на схемах: D — диммер яркости прибора, R — интенсивность красного цвета (Red), G — интенсивность зелёного цвета (Green), B — интенсивность синего цвета (Blue).

Итак, мы включили контроллер и приборы, по всем каналам от 0 до 512 передаётся значение 0:

![](/static/notes/basic-dmx/004.png)

Первый вариант работы светофора, когда на нём горит красный цвет на полную яркость, а остальные не горят:

![](/static/notes/basic-dmx/005.png)

Второй вариант, когда вместе с красным на будет гореть жёлтый на среднем приборе:

![](/static/notes/basic-dmx/006.png)

Дальше загорается только зелёный цвет:

![](/static/notes/basic-dmx/007.png)


Таким же образом можно записать таблицы для любых параметров любых приборов, управляемых по DMX, а с помощью контроллеров управления эти таблицы можно легко формировать, сохранять и включать из сохранённых.

### Системы управления светом

Главный инструмент художника по свету — это его система управления светом. Сейчас на рынке очень много вариантов того, что может посылать значения DMX каналов приборов, но самое главное помнить, что лучший световой пульт — это тот, который знаешь! Человек отлично знающий программку для управления светом у себя на ноутбуке отработает мероприятие намного лучше, чем человек с самым лучшим и дорогим световым пультом в мире, который видит этот пульт первый раз.

В данном разделе мы рассмотрим виды световых пультов (систем управления светом). Я их условно разделил на аналоговые, цифровые и компьютерные.

**Аналоговые пульты**

Самым простым световым пультом является аналоговый пульт. В простонародье его называют «расчёской». Это связано с количеством фейдеров на нём. Вот пример такого пульта:

![](/static/notes/basic-dmx/008.png)

Принцип его работы очень простой — у вас есть определённое количество каналов, которые чаще всего равно количеству фейдеров на пульте (фейдеров может быть меньше и они могут быть разбиты на страницы). Проще всего им управлять обычными диммерными приборами — у которых может быть только регулировка яркости: на первой ручке у вас яркость первого прожектора, на втором — второго и так далее, но никто не мешает этими же фейдерами выстраивать цвета на RGB каналах или двигать позицию прибора, пусть это и не так просто и наглядно, как в случае с другими системами управления.

Обычно такие пульты позволяют записывать точки (сцены). Например, у вас есть 10 диммерных приборов и часто бывает ситуация, что нужно управлять ими всеми одновременно, для этого можно записать сцену, что все эти 10 приборов сразу включены и помимо управления каждым прибором по отдельности, у вас будет возможность включить сразу все эти приборы, не поднимая 10 ручек. У аналоговых пультов может быть дополнительный разнообразный функционал, например возможность записи чейзов (автоматических переключений), реакция на звук и т. д. — всё зависит от конкретной модели пульта.

Аналоговые пульты работают без подключения к компьютеру за счёт наличия небольшой энергонезависимой памяти и собственного микропроцессора со специальной прошивкой, в котором и происходит вся логика записи или воспроизведения сохранённых сцен.

Помимо всего прочего, это самые дешёвые пульты на рынке. На момент написания этой статьи, розничная цена на аналоговый пульт составляла 5-15 тысяч рублей.

**Цифровые пульты**

Цифровой световой пульт представляет собой нечто похожее на аналоговый пульт, но со встроенным компьютером внутри. Как правило, цифровые световые пульты имеют сенсорные экраны, возможность удобной работы с параметрами прибора, не запоминая, что и на каком канале у него находится и поддерживают большое количество DMX каналов. Выходных каналов у такого светового пульта может быть даже больше 512, в таком случае они разделяются на юнивёрсы (потоки) — независимые dmx линии, в каждом из которых адресация приборов начинается с 1, а пульт уже знает, в какой поток и на какой адрес в этом потоке посылать необходимое значение.

![](/static/notes/basic-dmx/009.png)

Для работы со световым прибором на таком пульте вам нужна библиотека каналов этого прибора. Она представляет собой файл, созданный производителем прибора, либо вручную по инструкции, в котором описано, на каком канале этого прибора находится какая функция или параметр. После заведения библиотеки прибора в пульт и назначения стартового адреса прибора им можно управлять: изменять яркость, цвет, позицию и другие параметры, которые есть в световом приборе.
Благодаря библиотеке пульт знает, где у прибора находится, например, цвет и вам, в отличие от аналогового пульта, нет необходимости изменять положение трёх фейдеров (R, G и B), а можно выбрать цвет из заготовленного списка, либо из Color Picker-а:

![](/static/notes/basic-dmx/010.png)

Цифровые пульты позволяют работать со световыми эффектами (зависимость параметра светового прибора от времени), запускать сцены синхронно с другими элементами шоу, управлять медиасерверами для видео и делать многое другое. Свет на почти всех крупнейших концертов во всём мире управляется именно с такого типа пультов.

Из минусов цифровых световых пультов — это их высокая стоимость. Самый простой вариант такого пульта обойдётся от 40-50 тысяч рублей, а топовые модели известных фирм могут достигать в своей стоимости нескольких миллионов рублей.

**Компьютерные системы**

Компьютерные системы управления светом — это обычно программы, которые предоставляют функционал, очень похожий на цифровые пульты, но, как правило, имеющий большое ограничения.. Для получения на выходе компьютера DMX сигнала используются специальные USB-DMX контроллеры, либо ArtNET ноды, которые подключены к компьютеру по сети.

![](/static/notes/basic-dmx/011.png)

Компьютерные системы управления светом по своей сути напоминают цифровые световые пульты, но очень ограничены по функционалу, имеют логику программирования и настройки, очень отличную от пультов. Кроме этого большинство действий в таких системах реализовано не очень «юзерфрендли», за счёт этого выполнение задачи по программированию какой-то световой сцены может занять в десятки раз больше времени, чем это можно сделать на системах с пультовой логикой.

Изначально они создавались для архитектурной подсветки, что не подразумевало никакой пультовой логики и оперативной концертной работы. Со временем из-за их относительно небольшой стоимости, их начали использовать в шоу-индустрии. Разработчики такого софта стали добавлять в него дополнительный функционал, но это было сделано поверх того, что уже там было. За счёт этого получилась нечто, что очень отличается от концепции логики световых пультов, поэтому я не буду много рассказывать про компьютерные системы управления и очень не рекомендую их к изучению и использованию, если вы хотите заниматься световым оформлением концертов и шоу-программ.

Лучше найти недорогой, пусть и простой, пульт, найти по нему уроки на youtube и сразу встать на правильный путь, чтобы потом не переучиваться.