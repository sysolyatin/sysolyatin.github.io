---
layout: post
title:  "Укрощение двухглазых блайндеров"
cover: "/static/notes/blinders/cover.png"
---
Декабрь, пора новогодних корпоративов… ресторанчики с тотемами, а на них обычно, кроме палок, спотов и вошей ещё вешают подобное творение из поднебесной:

![](/static/notes/blinders/werwerwer.png)

Управление у него максимально примитивное: 4 диммерных канала, 2 для теплых диодов, два для холодных, соответственно, в каждом глазу стоит и один и другой.

Да, есть более расширенный мод, с отдельным каналом строба и так далее, но я пользуюсь именно 4-канальным режимом.

И всё бы ничего, но если повесить этот прибор и посмотреть на него спереди, то распиновка каналов будет выглядеть примерно так:

![](/static/notes/blinders/ch.png)

А теперь, если представить, что с этими приборами хочется сделать различные диммерные эффекты, то автоматически созданные пультом группы будут мягко говоря не очень правильными: холодный правый, холодный левый, теплый правый, теплый левый — ну прям бегучку от центра в стороны явно не сделать.

Долгое время я мучился с такими приборами, вручную создавая группы с подприборами в правильном порядке, но теперь решил, что с меня хватит и написал плагин, который будет это делать сам.

**Обратите внимание: плагин работает только с двуглазыми приборами в четырехканальном моде, при условии внутреннего расположения каналов по схеме, описанной чуть выше, а так же при условия патча приборов с FixId, а не ChId.**
Если у вас другой случай — вы можете использовать мой плагин за основу и сделать плагин под свою ситуацию.

Ну а теперь о возможностях плагина:

- Автоматическое создание группы со всеми холодными пикселями в правильном порядке (можно ходить по ним кнопкой Next, делать эффекты и т.д.)
- Автоматическое создание группы со всеми теплыми пикселями в правильном порядке (можно ходить по ним кнопкой Next, делать эффекты и т.д.)
- Создание эффекта стробоскопа для белых пикселей, запись этого эффекта на экзекьютор и назначение функции Swop для кнопки
- Создание кнопки BUHH на экзекьюторе, назначение функции Temp для кнопки и установка времени её выключения для плавного затухания (это кнопка при нажатии делает вспышку теплыми пикселями всех приборов).
- Создание 8-ми диммерных эффектов для теплых пикселей: бегучка вперед, бегучка назад, бегучка от центра и бегучка к центру, и всё это для кривой sin и кривой pwm.
- Создание секвенции с этими эффектами, с настройками, чтобы можно было плавно фейдером запускать эффект, предварительно выбрав его.

Пример работы плагина:

![](/static/notes/blinders/blinders.gif)

### Установка плагина

1. Необходимо скачать и распаковать архив [BlinderTools.zip](/static/notes/blinders/BlinderTools.zip)
1. Положить **оба файла** из архива в папку plugins на флешке в gma2 или в директорию данных на onPC (C:\ProgramData\MA Lighting Technologies\grandma\gma2_V_3.9.60 — версия в адресе может отличаться)
1. Открыть окно плагинов в МА2 (на вкладка System)
1. Открыть редактирование пустого плагина, нажать кнопку Import и выбрать плагин на флешке
1. Запустить плагин и ответить на несколько вопросов

Плагин полностью бесплатный, я его сделал для упрощения своей жизни, но если он вам сможет помочь — буду рад. Если вдруг он вам очень-очень сможет помочь, и вы захотите рассказать об этом мне в виде СМС от сбера — форма для чаевых слева наверху этой страницы.

### Ещё несколько важных моментов

1. Плагин можно использовать как угодно — редактировать, изменять под свои нужды, делиться с друзьями, писать на основе него плагин для своей ситуации и т.д.
1. Я никаким образом не отвечаю за последствия использования плагина, он может перезаписывать объекты, поэтому внимательно указывайте номера экзекьюторов и эффектов для запуска плагина, иначе он туда запишет то, что нужно ему, а то, что было у вас — потеряется.
1. Это единственная версия плагина, я не буду из него делать комбайн для всех возможных вариантов фантазий китайских инженеров, если у вас одна из них — смотрите пункт 1 =)