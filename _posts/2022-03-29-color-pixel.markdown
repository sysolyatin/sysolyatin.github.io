---
layout: post
title:  "Попиксельное заполнение цветом"
cover: "/static/notes/color-pixel/cover.png"
---
Последнее время я получаю в личку в телеграме очень много сообщений с различными вопросами по пультам grandMA2, и вот сегодня я получил такое сообщение:

![](/static/notes/color-pixel/001.png)

*пунктуация и орфография автора сохранены: тупо заскринил чат*

Готового правильного решения в голове не было, поэтому, придя вечером домой, я решил поэкспериментировать, чтобы найти ответ. Первое, что пришло в голову — это конечно же сделать такое через эффект, я даже нарисовал собственную форму для эффекта с тремя кривыми для R, G и B соответственно, а потом начал играть с различными параметрами настройки такого эффекта. Получалось очень красиво, но немного не то, что требовалось изначально сделать.

Тогда я вспомнил о том, что при изменении значений любого параметра у любого прибора можно установить не только значение этого параметра, но и время, за которое этот параметр будет применяться, а так же задержку, сколько пройдёт времени до применения этого параметра. Это указывается тут:

![](/static/notes/color-pixel/002.png)

Ну и конечно же, как и почти всё в пультах МА — эти значения можно равномерно распределить на группу приборов — наших пикселей.

Дальше я пошагово расскажу, как это всё реализовать. Для наглядности всё буду показывать без командной строки, только из самого интерфейса МА, но если вы привыкли выполнять какие-то действия командой — делайте как привыкли.

Для начала я сделал кьюшку, в которую у меня все пиксели включены по диммеру с каким-то цветом, так будет удобнее делать всё остальное. Программатор сейчас пустой.

![](/static/notes/color-pixel/003.png)

Дальше необходимо выделить нужные приборы (в нашем случае выбрать группу) и задать необходимый цвет — в данном случае белый, я его включил из пресет

![](/static/notes/color-pixel/004.png)

Мы делаем переключения цветов резким, поэтому значения fade изменять не будем, сразу переходим на вкладку delay и нажимаем первое колесо атрибутов для цвета. Откроется окно ввода значения:

![](/static/notes/color-pixel/005.png)

А вот тут и начинает происходить магия распределения на группу. Вводим не одно значение, а указываем диапазон **0 Thru 2**. Это означает, что пресет начнёт применятся к приборам с задержкой от нуля до двух секунд, равномерно распределив эту задержку по всей группе.

После подтверждения ввода значения на колёсах атрибутов на вкладке delay мы увидим только одно значение:

![](/static/notes/color-pixel/006.png)

Однако пугаться и путаться не стоит. Если открыть программатор, то на вкладке delay мы увидим всё распределение:

![](/static/notes/color-pixel/007.png)

Далее сохраняем содержимое программатора на любой свободный экзекьютор, а затем проделываем такую же операцию для синего и красного цвета. На выходе у нас получится экзекьютор с секвенцией из трёх cue, которую необходимо открыть для редактирования (кнопка Edit и нажать на экзекьютор):

![](/static/notes/color-pixel/008.png)

Тут необходимо поправить два поля у всех трёх cue:

- Trig — выбрать вариант Time, это нужно, чтобы cue переключались сами через заданное время
- Trig Time — время, через которое будет запускаться cue. Должно быть равно максимальному значению распределения delay в этой cue. В нашем случае — это 2 секунды.

![](/static/notes/color-pixel/009.png)

Теперь зайдём в настройки самого экзекьютора (кнопка Assign и нажать на экзекьютор)

![](/static/notes/color-pixel/010.png)

Тут необходимо сменить тип кнопки на Toggle, чтобы можно было нажатием кнопки и включать и выключать эффект. Сбрасываем программатор и пробуем запустить нашу волшебную кьюшку:

![](/static/notes/color-pixel/011.gif)

Конечно же распределение значений можно делать не только от первого к последнему или от последнего к первому, а использовать более сложные диапазоны, например, диапазоном вида **0 Thru 2 Thru 0** можно сделать эффект с движением в центр, а диапазоном **2 Thru 0 Thru 2** — из центра.

Дальше флаг (вот тут прям в прямом смысле получилось) вам в руки! Творите, применяйте это, чтобы сделать собственные эффекты, перебивки, пробегающие огоньки определенного цвета поверх работающего основного цвета и многое-многое другое. Кстати, если использовать распределение в группе по delay, и при этом задать одно значение fade для всей группы, то можно получить нечто подобное:

![](/static/notes/color-pixel/012.gif)

Ну и конечно же так можно делать не только с цветами, а с абсолютно любыми параметрами прибора — диммер, позиция, скорость строба и так далее. Экспериментируйте!

Единственный минус этого способа — очень жесткая привязка по времени. Его нельзя наTAPапь или регулировать фейдером.